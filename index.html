<!DOCTYPE html>
<html lang="en">
<head>
	<title></title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>


		<div id="app">
			<div v-for="plan in plans">
				<plan :plan="plan" :active.sync="active"></plan>
			</div>
		</div>

		<template id="plan-template">
			<div class="plan">
				<span class="plan-name">{{ plan.name }}</span>
				<span class="plan-price">{{ plan.price }}/month</span>
				<button class="plan-change"
					@click="setActivePlan"
					v-show="plan.name !== active.name"
				>
					{{ isUpgrade ? 'Upgrade' : 'Downgrade' }}
				</button>
				<span v-else class="plan-selected">Selected</span>
			</div>
		</template>

	<script src="http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.1/vue.js"></script>

	<script>
		new Vue({
			el: '#app',
			
			data: {
				plans: [
					{ name: 'Enterprise', price: 100 },
					{ name: 'Pro', price: 50 },
					{ name: 'Personal', price: 10 },
					{ name: 'Free', price: 0 },
				],
				
				active: {}
			},

			components: {
				plan: {
					template: '#plan-template',

					props: ['plan', 'active'],

					computed: {
						isUpgrade:	function() {
							return this.plan.price > this.active.price;
						}
					},

					methods: {
						setActivePlan: function() {
							this.active = this.plan;
						}
					}
				}
			}
		});
	</script>
</body>
</html>